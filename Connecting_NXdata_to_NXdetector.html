


<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Connecting NXdata to NXdetector</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css?v=34905f61" />
    <link rel="stylesheet" type="text/css" href="_static/details_summary_hide.css?v=30df4bca" />
    <link rel="stylesheet" href="_static/blockquote.css" type="text/css" />
    <link rel="stylesheet" href="_static/rubric.css" type="text/css" />
    <script src="_static/documentation_options.js?v=b08bce9f"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="icon" href="https://raw.githubusercontent.com/nexusformat/NIAC/master/NeXus_Logo/NeXus_Logo_dark_square.svg"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Containers and Inheritance" href="Containers_and_Inheritance.html" />
    <link rel="prev" title="ConcordanceDiscussion" href="ConcordanceDiscussion.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="Containers_and_Inheritance.html" title="Containers and Inheritance"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="ConcordanceDiscussion.html" title="ConcordanceDiscussion"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html"></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Connecting NXdata to NXdetector</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="connecting-nxdata-to-nxdetector">
<h1>Connecting NXdata to NXdetector<a class="headerlink" href="#connecting-nxdata-to-nxdetector" title="Link to this heading">¶</a></h1>
<p>This is an attempt to summarize the various proposals that have been
discussed on this page. Proposal 1 is, I believe ([Ray
Osborn] (Ray_Osborn.html “wikilink”)), the original proposal when NeXus
was first designed (although we didn’t link the data item itself as
Freddie has sensibly suggested). If anyone thinks that the remaining
proposals have been incorrectly summarized, please let the NeXus
committee mailing list know as soon as possible.</p>
<section id="proposal-1">
<h2>Proposal 1<a class="headerlink" href="#proposal-1" title="Link to this heading">¶</a></h2>
<p>All the items within an NXdata group (data, errors, and axes) are stored
as links to parent items stored in their logical location (NXdetector,
NXsample, etc). The absolute address of the parent item is stored as an
attribute on the data, so that other information can be conveniently
located. This is the only proposal that addresses the issue of
non-NXdetector axes.</p>
<p>This method implies a one-to-one correspondence of NXdata and NXdetector
groups; the names do not need to match, though they could.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;NXsample&gt;
   &lt;magnetic_field link=&quot;entry/sample&quot;&gt;
&lt;/NXsample&gt;
&lt;NXinstrument&gt;
   &lt;NXdetector&gt;
      &lt;data axes=&quot;time_of_flight:magnetic_field&quot; link=&quot;/entry/instrument/detector&quot;&gt;
      &lt;time_of_flight link=&quot;entry/instrument/detector&quot;&gt;
   &lt;/NXdetector&gt;
&lt;/NXinstrument&gt;
&lt;NXdata&gt;
   &lt;data axes=&quot;time_of_flight:magnetic_field&quot; link=&quot;/entry/instrument/detector&quot;&gt;
   &lt;time_of_flight link=&quot;entry/instrument/detector&quot;&gt;
   &lt;magnetic_field link=&quot;entry/sample&quot;&gt;
&lt;/NXdata&gt;
</pre></div>
</div>
</section>
<section id="proposal-2">
<h2>Proposal 2<a class="headerlink" href="#proposal-2" title="Link to this heading">¶</a></h2>
<p>There is a one-to-one correspondence between NXdata groups and the
corresponding NXdetector group, which should have the same name to
provide a logical association.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;NXinstrument&gt;
   &lt;NXdetector name=&quot;Bank1&quot;&gt;
      &lt;data axes=&quot;polar_angle:time_of_flight&quot;&gt;
      &lt;time_of_flight&gt;
      &lt;polar_angle&gt;
   &lt;/NXdetector&gt;
   &lt;NXdetector name=&quot;Bank2&quot;&gt;
      &lt;data axes=&quot;polar_angle:time_of_flight&quot;&gt;
      &lt;time_of_flight&gt;
      &lt;polar_angle&gt;
   &lt;/NXdetector&gt;
&lt;/NXinstrument&gt;
&lt;NXdata name=&quot;Bank1&quot;&gt;
   &lt;data axes=&quot;polar_angle:time_of_flight&quot;&gt;
   &lt;time_of_flight&gt;
   &lt;polar_angle&gt;
&lt;/NXdata&gt;
&lt;NXdata name=&quot;Bank2&quot;&gt;
   &lt;data axes=&quot;polar_angle:time_of_flight&quot;&gt;
   &lt;time_of_flight&gt;
   &lt;polar_angle&gt;
&lt;/NXdata&gt;
</pre></div>
</div>
</section>
<section id="proposal-3">
<h2>Proposal 3<a class="headerlink" href="#proposal-3" title="Link to this heading">¶</a></h2>
<p>There is a one-to-one correspondence between NXdata groups and the
corresponding NXdetector group. The NXdata group is stored within its
respective NXdetector group and linked to the NXentry.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;NXinstrument&gt;
   &lt;NXdetector&gt;
      &lt;NXdata&gt;
         &lt;data axes=&quot;polar_angle:time_of_flight&quot;&gt;
         &lt;time_of_flight&gt;
         &lt;polar_angle&gt;
      &lt;/NXdata&gt;
   &lt;/NXdetector&gt;
&lt;/NXinstrument&gt;
&lt;NXdata (link only)&gt;
   &lt;data axes=&quot;polar_angle:time_of_flight&quot;&gt;
   &lt;time_of_flight&gt;
   &lt;polar_angle&gt;
&lt;/NXdata&gt;
</pre></div>
</div>
</section>
<section id="proposal-4">
<h2>Proposal 4<a class="headerlink" href="#proposal-4" title="Link to this heading">¶</a></h2>
<p>There can be multiple NXdata groups for a single NXdetector group or
multiple NXdetector groups for a single NXdata item (e.g. to cope with
groups of different types of detectors). Detector ID’s are used to
provide the link between the two.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;NXinstrument&gt;
   &lt;NXdetector&gt;
      &lt;detector(1:N)&gt;
      &lt;polar_angle(1:N)&gt;
   &lt;/NXdetector&gt;
&lt;/NXinstrument&gt;
&lt;NXdata name=&quot;Bank1&quot;&gt;
   &lt;data(1:i) axes=&quot;detector&quot;&gt;
   &lt;detector(1:i)&gt;
&lt;/NXdata&gt;
&lt;NXdata name=&quot;Bank2&quot;&gt;
   &lt;data(i+1:N axes=&quot;detector&quot;&gt;
   &lt;detector(i+1:N)&gt;
&lt;/NXdata&gt;
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;NXinstrument&gt;
   &lt;NXdetector name=&quot;Bank1&quot;&gt;
      &lt;detector(1:i)&gt;
      &lt;polar_angle(1:i)&gt;
   &lt;/NXdetector&gt;
   &lt;NXdetector name=&quot;Bank2&quot;&gt;
      &lt;detector(i+1:N)&gt;
      &lt;polar_angle(i+1:N)&gt;
   &lt;/NXdetector&gt;
&lt;/NXinstrument&gt;
&lt;NXdata&gt;
   &lt;data(1:N) axes=&quot;detector&quot;&gt;
   &lt;detector(1:N)&gt;
&lt;/NXdata&gt;
</pre></div>
</div>
</section>
<section id="criteria-of-a-good-solution">
<h2>Criteria of a Good Solution<a class="headerlink" href="#criteria-of-a-good-solution" title="Link to this heading">¶</a></h2>
<p>A proper solution should address the following:</p>
<ul class="simple">
<li><p>Linking - should it be used as a method of saving space or carry
relational information (associating things).</p></li>
<li><p>Grouping information into NXdetectors in a logical manner. For
example, an instrument may want to have a NXdetector for each bank,
or one for each panel, irrespective of how the NXdata is grouped.</p></li>
<li><p>NXdata must be rectangular ( lxm or lxmxn so data that would be
grouped together in the analysis needs to be split up to conform to
the standard. How should the data be associated with each other.</p></li>
<li><p>How do you properly deal with multi-dimensional detectors, i.e.
single ended tubes AND linear position sensitive detectors AND area
detectors all used in the same measurement.</p></li>
</ul>
</section>
<section id="update-01-2015">
<h2>Update 01/2015<a class="headerlink" href="#update-01-2015" title="Link to this heading">¶</a></h2>
<p>This page is very old. I cannot remember that this has been decided
upon. The current usage though is along the lines of proposal 2:
Multiple detectors give rise to multiple NXdetector and NXdata groups
with preferably the same name. NXdata is supposed to contain links to
the relevant data items required for a default plot. There can be
additional NXdata groups for special purposes. See also the description
of NXsubentry in the NeXus manual.</p>
<p>The above is valid for raw data NeXus files. In processed data NeXus
files NXdata has a different meaning and contains the actual resulting
processed data.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Connecting NXdata to NXdetector</a><ul>
<li><a class="reference internal" href="#proposal-1">Proposal 1</a></li>
<li><a class="reference internal" href="#proposal-2">Proposal 2</a></li>
<li><a class="reference internal" href="#proposal-3">Proposal 3</a></li>
<li><a class="reference internal" href="#proposal-4">Proposal 4</a></li>
<li><a class="reference internal" href="#criteria-of-a-good-solution">Criteria of a Good Solution</a></li>
<li><a class="reference internal" href="#update-01-2015">Update 01/2015</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <p>Have a Question? <a href="https://github.com/nexusformat/wiki/issues/new">Get help</a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><p>
 <a href="http://www.nexusformat.org/">
   <img src="https://raw.githubusercontent.com/nexusformat/NIAC/master/NeXus_Logo/NeXus_Logo_dark.svg" alt="NeXus"
        width="150"
        height="50"
   >
</a>
<br>NeXus is developed as an international standard by scientists and programmers representing major scientific
 facilities in Europe, Asia, Australia, and North America in order to facilitate greater cooperation in the
 analysis and visualization of neutron, x-ray, and muon data.
<br><a href="http://www.nexusformat.org/">Home</a>
<br><a href="https://github.com/nexusformat">GitHub Organisation</a>
<br>© 2025 <a href="http://www.nexusformat.org/NIAC.html">NIAC</a>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="Containers_and_Inheritance.html" title="Containers and Inheritance"
             >next</a></li>
        <li class="right" >
          <a href="ConcordanceDiscussion.html" title="ConcordanceDiscussion"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html"></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Connecting NXdata to NXdetector</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, NIAC.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.1.0.
    </div>
  </body>
</html>