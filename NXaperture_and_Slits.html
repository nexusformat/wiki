


<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>NXaperture and Slits</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css?v=34905f61" />
    <link rel="stylesheet" type="text/css" href="_static/details_summary_hide.css?v=30df4bca" />
    <link rel="stylesheet" href="_static/blockquote.css" type="text/css" />
    <link rel="stylesheet" href="_static/rubric.css" type="text/css" />
    <script src="_static/documentation_options.js?v=b08bce9f"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="icon" href="https://raw.githubusercontent.com/nexusformat/NIAC/master/NeXus_Logo/NeXus_Logo_dark_square.svg"/>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="NXbrowse.f90" href="NXbrowse.f90.html" />
    <link rel="prev" title="NIACOrg" href="NIACOrg.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="NXbrowse.f90.html" title="NXbrowse.f90"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="NIACOrg.html" title="NIACOrg"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html"></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">NXaperture and Slits</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="nxaperture-and-slits">
<h1>NXaperture and Slits<a class="headerlink" href="#nxaperture-and-slits" title="Link to this heading">¶</a></h1>
<p>The actual <em>NXaperture</em> base class is far t0o complex for most of the
apertures used at synchrotron facilities. Currently the most commonly
used aperture types are</p>
<ul class="simple">
<li><p>pinholes</p></li>
<li><p>2 or 4 blade slits.</p></li>
</ul>
<p>From the current implementation of <em>NXaperture</em> it would be rather
difficult to obtain relevant quantities like the size of the slit gap or
the offsets of the gap. There are basically two ways how to face this
problem</p>
<ul class="simple">
<li><p>redesign <em>NXaperture</em></p></li>
<li><p>or introduce new classes for more specific aperture types.</p></li>
</ul>
<p>Which of them is appropriate for us should be the topic of this
discussion.</p>
<section id="introducing-new-classes">
<h2>Introducing new classes<a class="headerlink" href="#introducing-new-classes" title="Link to this heading">¶</a></h2>
<section id="pinholes-nxpinhole">
<h3>Pinholes - <em>NXpinhole</em><a class="headerlink" href="#pinholes-nxpinhole" title="Link to this heading">¶</a></h3>
<p><img alt="c|A pinhold in thebeam." src="_images/Pinhole_2.png" /> Pinholes are most
probably the simplest apertures available. The only parameter of
importance is the diameter of the pinhole and its position with respect
to the beam (as shown in the image). From this sketch one could easily
deduce a new class <em>NXpinhole</em> with the following parameters:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NXpinhole
  diameter:NX_LENGTH
  depends_on:NX_CHAR
</pre></div>
</div>
<p>The first parameter <em>diameter</em> describes the diameter of the pinhole
while the depends_on references the last element of the chain of
transformations to position the center of the pinhole.</p>
</section>
<section id="slits-nxslit">
<h3>Slits - <em>NXslit</em><a class="headerlink" href="#slits-nxslit" title="Link to this heading">¶</a></h3>
<p><img alt="A four-blade slit system." src="_images/Slit.png" />
Two or four blade slits are the most common apertures used at
synchrotrons. In this example a 4-blade slit is shown. The most
important parameter for such a system is the size of the aperture
determined by the positions of the blades. A base class <em>NXslit</em> could
look like this</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>NXslit
  x_gap:NX_LENGTH
  y_gap:NX_LENGTH
  depends_on:NX_CHAR
</pre></div>
</div>
<p>The gaps are given in the local reference frame of the slit system,
which is defined by the transformation chain referenced by the
<em>depends_on</em> field. The <em>depends_on</em> places the center of the slit
assembly into the coordinate system. <em>NXslit</em> basically describes a
rectangular aperture. The positions of the individual slit blades are
not included in the definition of the base class.</p>
</section>
<section id="what-happens-to-nxaperture">
<h3>What happens to <em>NXaperture</em><a class="headerlink" href="#what-happens-to-nxaperture" title="Link to this heading">¶</a></h3>
<p>The original <em>NXaperture</em> remains unchanged (for the sake of
compatibility) and can still be used for all kind of more complex
apertures which cannot be represented by the the new classes.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">NXaperture and Slits</a><ul>
<li><a class="reference internal" href="#introducing-new-classes">Introducing new classes</a><ul>
<li><a class="reference internal" href="#pinholes-nxpinhole">Pinholes - <em>NXpinhole</em></a></li>
<li><a class="reference internal" href="#slits-nxslit">Slits - <em>NXslit</em></a></li>
<li><a class="reference internal" href="#what-happens-to-nxaperture">What happens to <em>NXaperture</em></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <p>Have a Question? <a href="https://github.com/nexusformat/wiki/issues/new">Get help</a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><p>
 <a href="http://www.nexusformat.org/">
   <img src="https://raw.githubusercontent.com/nexusformat/NIAC/master/NeXus_Logo/NeXus_Logo_dark.svg" alt="NeXus"
        width="150"
        height="50"
   >
</a>
<br>NeXus is developed as an international standard by scientists and programmers representing major scientific
 facilities in Europe, Asia, Australia, and North America in order to facilitate greater cooperation in the
 analysis and visualization of neutron, x-ray, and muon data.
<br><a href="http://www.nexusformat.org/">Home</a>
<br><a href="https://github.com/nexusformat">GitHub Organisation</a>
<br>© 2025 <a href="http://www.nexusformat.org/NIAC.html">NIAC</a>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="NXbrowse.f90.html" title="NXbrowse.f90"
             >next</a></li>
        <li class="right" >
          <a href="NIACOrg.html" title="NIACOrg"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html"></a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">NXaperture and Slits</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, NIAC.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.1.0.
    </div>
  </body>
</html>